"use strict";(self.webpackChunkahlcg_tools=self.webpackChunkahlcg_tools||[]).push([[356],{3144:(v,g,o)=>{o.d(g,{x:()=>M});var C=o(7579);const a={now:()=>(a.delegate||Date).now(),delegate:void 0};class h extends C.x{constructor(l=1/0,s=1/0,i=a){super(),this._bufferSize=l,this._windowTime=s,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=s===1/0,this._bufferSize=Math.max(1,l),this._windowTime=Math.max(1,s)}next(l){const{isStopped:s,_buffer:i,_infiniteTimeWindow:c,_timestampProvider:u,_windowTime:t}=this;s||(i.push(l),!c&&i.push(u.now()+t)),this._trimBuffer(),super.next(l)}_subscribe(l){this._throwIfClosed(),this._trimBuffer();const s=this._innerSubscribe(l),{_infiniteTimeWindow:i,_buffer:c}=this,u=c.slice();for(let t=0;t<u.length&&!l.closed;t+=i?1:2)l.next(u[t]);return this._checkFinalizedStatuses(l),s}_trimBuffer(){const{_bufferSize:l,_timestampProvider:s,_buffer:i,_infiniteTimeWindow:c}=this,u=(c?1:2)*l;if(l<1/0&&u<i.length&&i.splice(0,i.length-u),!c){const t=s.now();let p=0;for(let e=1;e<i.length&&i[e]<=t;e+=2)p=e;p&&i.splice(0,p+1)}}}var f=o(3099),n=o(4004),d=o(7587),_=o(520);let M=(()=>{class m{constructor(s){this.http=s}getCampaigns(){return this.http.get("./assets/campaigns/allCampaigns_es.json").pipe((0,n.U)(s=>s.sort((i,c)=>i.campaign.position-c.campaign.position)),function r(m,l,s){var i,c;let u,t=!1;return m&&"object"==typeof m?(u=null!==(i=m.bufferSize)&&void 0!==i?i:1/0,l=null!==(c=m.windowTime)&&void 0!==c?c:1/0,t=!!m.refCount,s=m.scheduler):u=null!=m?m:1/0,(0,f.B)({connector:()=>new h(u,l,s),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:t})}(1))}getCampaign(s){return this.getCampaigns().pipe((0,n.U)(i=>i.find(({campaign:c})=>c.id===s)))}getScenarioOfCampaign(s,i){return this.getCampaign(s).pipe((0,n.U)(c=>null==c?void 0:c.scenarios.find(u=>u.id===i)))}}return m.\u0275fac=function(s){return new(s||m)(d.LFG(_.eN))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},2356:(v,g,o)=>{o.r(g),o.d(g,{CampaignScenarioContainerComponent:()=>f.CampaignScenarioContainerComponent,CampaignScenarioContainerComponentModule:()=>f.CampaignScenarioContainerComponentModule,NarrationFeatureNarrationMainModule:()=>h});var C=o(1163),a=o(7587);let h=(()=>{class r{}return r.\u0275fac=function(d){return new(d||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[C.Bz.forChild([{path:"",loadChildren:()=>o.e(2).then(o.bind(o,1002)).then(n=>n.CampaignListContainerComponentModule)},{path:"campaign/:id",loadChildren:()=>o.e(575).then(o.bind(o,575)).then(n=>n.CampaignDetailContainerComponentModule)},{path:"**",redirectTo:""}])]]}),r})();var f=o(8606)},8606:(v,g,o)=>{o.r(g),o.d(g,{CampaignScenarioContainerComponent:()=>c,CampaignScenarioContainerComponentModule:()=>u});var C=o(9808),a=o(1163),h=o(4004),f=o(3900),r=o(5051),n=o(7587),d=o(3144);function _(t,p){1&t&&n._UZ(0,"ahlcg-tools-narration-audio",7),2&t&&n.Q6J("narration",p.ngIf)}function M(t,p){if(1&t&&(n.ynx(0),n.YNc(1,_,1,1,"ahlcg-tools-narration-audio",6),n.BQk()),2&t){const e=p.$implicit;n.xp6(1),n.Q6J("ngIf",e.narration)}}function m(t,p){1&t&&n._UZ(0,"ahlcg-tools-narration-audio",7),2&t&&n.Q6J("narration",p.ngIf)}function l(t,p){if(1&t&&(n.ynx(0),n.YNc(1,m,1,1,"ahlcg-tools-narration-audio",6),n.BQk()),2&t){const e=p.$implicit;n.xp6(1),n.Q6J("ngIf",e.narration)}}const s=function(){return[".."]};function i(t,p){if(1&t&&(n.TgZ(0,"main",1)(1,"h1",2),n._uU(2),n.qZA(),n.TgZ(3,"a",3),n._uU(4," < Volver a campa\xf1a "),n.qZA(),n.TgZ(5,"div")(6,"h2",4),n._uU(7,"Pasos"),n.qZA(),n.YNc(8,M,2,1,"ng-container",5),n.qZA(),n.TgZ(9,"div")(10,"h2",4),n._uU(11,"Resoluciones"),n.qZA(),n.YNc(12,l,2,1,"ng-container",5),n.qZA()()),2&t){const e=p.ngIf;n.xp6(2),n.Oqu(e.full_name),n.xp6(1),n.Q6J("routerLink",n.DdM(4,s)),n.xp6(5),n.Q6J("ngForOf",e.steps),n.xp6(4),n.Q6J("ngForOf",e.resolutions)}}let c=(()=>{class t{constructor(e,S){this.narrationsService=e,this.route=S,this.scenario$=this.route.params.pipe((0,h.U)(({id:y,scenarioId:T})=>({id:y,scenarioId:T})),(0,f.w)(({id:y,scenarioId:T})=>this.narrationsService.getScenarioOfCampaign(y,T)))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(d.x),n.Y36(a.gz))},t.\u0275cmp=n.Xpm({type:t,selectors:[["ahlcg-tools-campaign-scenario-container"]],decls:2,vars:3,consts:[["class","space-y-8",4,"ngIf"],[1,"space-y-8"],[1,"text-3xl","text-bold"],[1,"text-xl","text-medium",3,"routerLink"],[1,"text-xl","text-bold"],[4,"ngFor","ngForOf"],[3,"narration",4,"ngIf"],[3,"narration"]],template:function(e,S){1&e&&(n.YNc(0,i,13,5,"main",0),n.ALo(1,"async")),2&e&&n.Q6J("ngIf",n.lcZ(1,1,S.scenario$))},directives:[C.O5,a.yS,C.sg,r.D],pipes:[C.Ov],encapsulation:2,changeDetection:0}),t})(),u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[C.ez,r.Z,a.Bz.forChild([{path:"",component:c}])]]}),t})()},5051:(v,g,o)=>{o.d(g,{D:()=>h,Z:()=>f});var C=o(9808),a=o(7587);let h=(()=>{class r{constructor(){}}return r.\u0275fac=function(d){return new(d||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["ahlcg-tools-narration-audio"]],inputs:{narration:"narration"},decls:6,vars:2,consts:[["controls",""],["type","audio/mpeg",3,"src"]],template:function(d,_){1&d&&(a.TgZ(0,"p")(1,"span"),a._uU(2),a.qZA(),a.TgZ(3,"audio",0),a._UZ(4,"source",1),a._uU(5," Your browser does not support the audio element. "),a.qZA()()),2&d&&(a.xp6(2),a.Oqu(_.narration.name),a.xp6(2),a.s9C("src","https://static.arkhamcards.com/audio/es/"+_.narration.id+".mp3",a.LSH))},encapsulation:2,changeDetection:0}),r})(),f=(()=>{class r{}return r.\u0275fac=function(d){return new(d||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[C.ez]]}),r})()}}]);